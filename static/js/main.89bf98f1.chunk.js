(this["webpackJsonpanimal-classifier-client"]=this["webpackJsonpanimal-classifier-client"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(95),a(12)),l=a(136),s=a(159),m=a(78),d=a(160),p=a(161),u=a(54),g=a(52),f=a(53),b=a(139),h=a(140),v=a(37),E=a(51),y=Object(l.a)((function(e){return{appBar:{backgroundColor:"light"===e.palette.type?e.palette.primary.main:E.a[800]},title:{flexGrow:1,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none","&::selection":{background:"none",color:"none"},"&::-moz-selection":{background:"none",color:"none"}}}})),j=function(e){var t=e.processing,a=e.reset,i=e.setPaletteType,o=y();return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{position:"fixed",className:o.appBar},r.a.createElement(h.a,null,r.a.createElement(v.a,{className:o.title,variant:"h6"},"Animal Classifier"),e.processing?r.a.createElement(he,{processing:t,reset:a}):null,r.a.createElement(Y,{setPaletteType:i}))),r.a.createElement(h.a,{style:{padding:0}}))},x=a(50),C=a(141),O=a(55),k=a(45),w=a.n(k),S=Object(l.a)((function(e){return{base:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:2,borderRadius:2,borderColor:"light"===e.palette.type?"#eee":"#535353",borderStyle:"dashed",backgroundColor:"light"===e.palette.type?"#fafafa":"#bdbdbd",color:"light"===e.palette.type?"#bdbdbd":"#fafafa",outline:"none",transition:"border .24s ease-in-out",width:"100%",flexGrow:1,textAlign:"center"},accept:{borderColor:e.palette.success.main,backgroundColor:"light"===e.palette.type?O.a[50]:O.a[100]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:"light"===e.palette.type?f.a[50]:f.a[100]},text:{fontSize:"2em",textAlign:"center"}}})),I=function(e){var t=S(),a=Object(n.useCallback)(e.handleImageUpload,[]),i=Object(x.a)({accept:"image/*",onDropAccepted:a}),o=i.getRootProps,c=i.getInputProps,l=i.isDragActive,s=i.isDragAccept,m=i.isDragReject,d=Object(n.useMemo)((function(){return s?t.accept:m?t.reject:l?t.active:""}),[s,t.accept,m,t.reject,l,t.active]);return r.a.createElement("div",o({className:w()(t.base,d)}),r.a.createElement("input",c({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement(C.a,{style:{fontSize:80}}),r.a.createElement("span",{className:t.text},"Upload an image of an animal"))},N=a(17),P=a(142),B=a(80),T=a(81),U=function(e){var t,a,i=(a=null===(t=e.image)||void 0===t?void 0:t.imageUrl,Object(l.a)((function(e){return{imageCanvas:Object(N.a)({flex:"0 1 50%",display:"flex",alignItems:"center",justifyContent:"center",outline:0,padding:e.spacing(2),borderWidth:0,borderColor:"none",borderStyle:"dashed",transition:"border .24s ease-in-out",marginRight:e.spacing(1),marginBottom:0,maxHeight:"100%",maxWidth:"calc(50% - ".concat(e.spacing(1),"px)")},e.breakpoints.down("md"),{marginRight:0,marginBottom:e.spacing(1),maxHeight:"50%",maxWidth:"100%"}),imagePreview:{width:"100%",height:"100%",background:a?"url('".concat(a,"')"):"none",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",display:"flex",alignItems:"flex-start",justifyContent:"flex-end"},accept:{borderWidth:2,borderColor:e.palette.success.main,backgroundColor:"light"===e.palette.type?O.a[50]:O.a[100]},active:{borderWidth:2,borderColor:e.palette.primary.main},reject:{borderWidth:2,borderColor:e.palette.error.main,backgroundColor:"light"===e.palette.type?f.a[50]:f.a[100]},uploadIcon:{fontSize:"2.1875rem"},uploadPath:{opacity:.75,fill:"light"===e.palette.type?e.palette.primary.light:"rgb(66,66,66)"}}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],d=s[1],p=e.processing,u=Object(n.useCallback)(e.handleImageUpload,[]),g=Object(x.a)({accept:"image/*",noClick:p,onDropAccepted:p?function(){}:u}),b=g.getRootProps,h=g.getInputProps,v=g.isDragActive,E=g.isDragAccept,y=g.isDragReject,j=Object(n.useMemo)((function(){return p&&v?i.reject:E?i.accept:y?i.reject:v?i.active:""}),[E,i.accept,y,i.reject,v,i.active,p]);return Object(n.useEffect)((function(){d((function(e){return!e}))}),[]),r.a.createElement(P.a,{in:m,timeout:1e3},r.a.createElement(B.a,Object.assign({elevation:3},b({className:w()(i.imageCanvas,j)})),r.a.createElement("input",h({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement("div",{className:i.imagePreview},!p&&r.a.createElement(T.a,{className:i.uploadIcon,focusable:!1,viewBox:"0 0 24 24"},r.a.createElement("path",{className:i.uploadPath,d:"M19.21 12.04l-1.53-.11-.3-1.5C16.88 7.86 14.62 6 12 6 9.94 6 8.08 7.14 7.12 8.96l-.5.95-1.07.11C3.53 10.24 2 11.95 2 14c0 2.21 1.79 4 4 4h13c1.65 0 3-1.35 3-3 0-1.55-1.22-2.86-2.79-2.96zm-5.76.96v3h-2.91v-3H8l4-4 4 4h-2.55z"}),r.a.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"})))))},z=a(18),D=a(163),A=a(144),R=a(146),W=a(147),L=a(148),F=a(149),M=a(150),G=a(151),H=a(164),$=a(145),J=["dog","cat"],q=["butterfly","cat","chicken","cow","dog","elephant","horse","sheep","spider","squirrel"],_={dog:"\ud83d\udc15",cat:"\ud83d\udc08",butterfly:"\ud83e\udd8b",chicken:"\ud83d\udc14",cow:"\ud83d\udc04",elephant:"\ud83d\udc18",horse:"\ud83d\udc0e",sheep:"\ud83d\udc11",spider:"\ud83d\udd77\ufe0f",squirrel:"\ud83d\udc3f\ufe0f"},K=Object(l.a)((function(e){return{infoList:{width:320,paddingTop:8},message:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"left"},animalSubheader:{backgroundColor:"light"===e.palette.type?"rgba(255,255,255,1)":"rgba(66,66,66,1)"},animal:{display:"flex",alignItems:"center",justifyContent:"space-between",color:"inherit",textDecoration:"none"},animalEmoji:{textAlign:"right"},animalText:{textTransform:"capitalize",flexGrow:1,color:"inherit"}}})),Y=function(e){var t=Object(z.a)(),a=K(),i=Object(n.useState)("dark"===t.palette.type),o=Object(c.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(null),d=Object(c.a)(m,2),p=d[0],u=d[1],g=e.setPaletteType,f=function(){return u(null)},b=Boolean(p),h=b?"info-popover":void 0;return r.a.createElement(n.Fragment,null,r.a.createElement(D.a,{title:"Info","aria-label":"info-tip"},r.a.createElement(A.a,{"aria-describedby":h,"aria-label":"info",onClick:function(e){return u(e.currentTarget)}},r.a.createElement($.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(R.a,{id:h,open:b,anchorEl:p,onClose:f,onDragEnter:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(W.a,{className:a.infoList,subheader:r.a.createElement("li",null)},r.a.createElement(L.a,{key:"info",className:a.message},r.a.createElement(v.a,{variant:"body1",gutterBottom:!0},"About"),r.a.createElement(v.a,{variant:"body2",gutterBottom:!0},r.a.createElement("span",null,"This project is made by Tarun Belani, under the guidance of Dr. Arunava Banerjee, for Fall 2020 Senior Project. Source code can be found ",r.a.createElement("a",{href:"https://github.com/tarunb12/animal-classifier",target:"_blank",rel:"noopener noreferrer"},"here"),"."))),r.a.createElement(F.a,null),r.a.createElement(M.a,{className:a.animalSubheader},"Supported Animals"),q.map((function(e){return r.a.createElement(L.a,{key:e,component:"a",target:"_blank",href:"https://en.wikipedia.org/wiki/".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rel:"noopener noreferrer"},r.a.createElement(G.a,{primary:r.a.createElement("div",{className:a.animal},r.a.createElement("span",{className:a.animalText},e),r.a.createElement("span",{className:a.animalEmoji},_[e]))}))})),r.a.createElement(F.a,null),r.a.createElement(L.a,{key:"theme-toggle",className:a.animal},r.a.createElement("span",{className:a.animalText},"Dark Mode"),r.a.createElement(H.a,{checked:l,onChange:function(){s((function(e){var t=!e;return localStorage.setItem("dark",JSON.stringify(t)),g(t?"dark":"light"),!e}))}})))))},Q=a(162),V=a(152),X=function(e){var t=new RegExp("(?:(?:^|.*;*)".concat(e,"*=*([^;]*).*$)|^.*$"));return document.cookie.replace(t,"$1")},Z=a(57),ee=a.n(Z),te=a(76),ae=a.n(te),ne=a(77),re=Object(l.a)((function(e){return{upload:{width:"100%",padding:0,marginTop:e.spacing(1)},locationField:{flexGrow:1,marginRight:"2%",overflow:"hidden"},main:Object(N.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",padding:"24px 24px 0"},e.breakpoints.down("sm"),{padding:"16px 16px 0"})}})),ie=function(e){var t=re(),a=Object(n.useState)(""),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,m=e.image,d=e.animalPrediction,p=e.breedPrediction,u=e.setProcessing,g=e.setImage,f=e.setAnimalPrediction,b=e.setBreedPrediction,v=e.reset,E=function(e,t){t?(u(!1),f(void 0),b(void 0)):v(),function(e,t){var a=new Image;a.onload=function(){return t(!1)},a.onerror=function(){return t(!0)},a.src=e}(e,(function(t){t?(l("URL must represent a valid image file."),g(void 0)):(setTimeout((function(){return f({value:"dog",confidence:.98})}),3e3),setTimeout((function(){b({value:"shih-tzu",confidence:.87}),u(!1)}),6e3),g({imageUrl:e}),u(!0))}))},y=function(e){return function(t){if(t){var a=t[0];a&&E(URL.createObjectURL(a),e)}}};return r.a.createElement(n.Fragment,null,r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"upload-photo",name:"upload-photo",multiple:!1,type:"file",onChange:function(e){return y(!1)(e.target.files)},disabled:s}),r.a.createElement("div",{className:t.main},m?r.a.createElement(se,{animalPrediction:d,breedPrediction:p,image:m,handleImageUpload:y(!0),processing:s}):r.a.createElement(I,{handleImageUpload:y(!1)}),r.a.createElement(h.a,{className:t.upload},r.a.createElement(Q.a,{error:!!o,disabled:s,variant:"filled",className:t.locationField,label:o||"URL",onChange:function(e){var t=e.target.value;!function(e){if(!e)return!1;var t=e.lastIndexOf("http");if(-1!==t&&(e=e.substring(t)),!ae()(e))return ee()(e);var a=Object(ne.parse)(e).pathname;if(!a)return!1;var n=a.search(/[:?&]/);return-1!==n&&(a=a.substring(0,n)),!!ee()(a)||(/styles/i.test(a),!1)}(t)?l("URL must represent a valid image file."):(l(""),E(t,!0))}}),r.a.createElement("label",{htmlFor:"upload-photo"},r.a.createElement(V.a,{variant:"contained",component:"span",disabled:s},"Upload")))))},oe=a(153),ce=function(e){var t,a,i=(t=e.isBreed,a=e.isBreedType,Object(l.a)((function(e){return{predictionContainer:Object(N.a)({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginTop:t?e.spacing(1):void 0,marginBottom:t?void 0:e.spacing(1),marginLeft:e.spacing(1),marginRight:0,flex:"0 0 100%",height:a?"calc(50% - ".concat(e.spacing(1),"px)"):"100%",width:"100%",textTransform:"capitalize"},e.breakpoints.down("md"),{marginTop:e.spacing(1),marginBottom:0,marginLeft:t?e.spacing(1):0,marginRight:t?0:e.spacing(1),flex:a?"0 1 50%":"0 0 100%",height:"calc(100% - ".concat(e.spacing(1),"px)")}),labelContainer:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},confidenceContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%",padding:"".concat(e.spacing(1),"px ").concat(e.spacing(1.5),"px")},label:Object(N.a)({},e.breakpoints.down("sm"),{fontSize:"2rem"}),confidence:{fontSize:"1rem",textDecorationLine:"underline",textDecorationStyle:"dotted"}}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],d=s[1],p=e.prediction;Object(n.useEffect)((function(){d((function(e){return!e}))}),[]);var u=void 0===p;return r.a.createElement(P.a,{in:m,timeout:1e3},r.a.createElement(B.a,{elevation:3,className:i.predictionContainer},r.a.createElement("div",{className:i.labelContainer},u?r.a.createElement(oe.a,{size:40}):r.a.createElement(v.a,{variant:"h3",className:i.label},"".concat(null===p||void 0===p?void 0:p.value," ".concat(_[null===p||void 0===p?void 0:p.value]||"")))),r.a.createElement("div",{className:i.confidenceContainer},p&&r.a.createElement(D.a,{title:"Confidence","aria-label":"confidence-tip"},r.a.createElement("span",{className:i.confidence},100*p.confidence,"%")))))},le=Object(l.a)((function(e){return{container:Object(N.a)({display:"flex",width:"100%",height:"100%",marginBottom:e.spacing(1)},e.breakpoints.down("md"),{flexDirection:"column"}),imageContainer:Object(N.a)({flex:"0 1 50%",height:"100%",width:"50%"},e.breakpoints.down("md"),{flex:"0 0 100%",height:"50%",width:"100%"}),resultContainer:Object(N.a)({flex:"0 1 50%",display:"flex",height:"100%",maxWidth:"calc(50% - ".concat(e.spacing(1),"px)"),flexWrap:"wrap",alignItems:"flex-start"},e.breakpoints.down("md"),{height:"calc(50% - ".concat(e.spacing(1),"px)"),maxWidth:"100%",flexWrap:"nowrap",alignItems:"normal"})}})),se=function(e){var t=le(),a=e.animalPrediction,n=e.breedPrediction,i=!!a&&J.includes(a.value);return r.a.createElement("div",{className:t.container},r.a.createElement(U,{image:e.image,processing:e.processing,handleImageUpload:e.handleImageUpload}),r.a.createElement("div",{className:t.resultContainer},r.a.createElement(ce,{isBreedType:i,isBreed:!1,prediction:a}),i&&r.a.createElement(ce,{isBreedType:i,isBreed:!0,prediction:n})))},me=a(165),de=a(155),pe=a(156),ue=a(157),ge=a(158),fe=a(154),be=Object(l.a)((function(e){return{yesButton:{color:e.palette.primary.main},noButton:{color:e.palette.error.main}}})),he=function(e){var t=be(),a=Object(n.useState)(!1),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,m=e.reset,d=function(){return l(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(D.a,{title:"Stop","aria-label":"stop-tip"},r.a.createElement(A.a,{"aria-label":"stop",onClick:function(){return l(!0)}},r.a.createElement(fe.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(me.a,{open:o&&s,onClose:d,"aria-labelledby":"stop-dialog-title","aria-describedby":"stop-dialog-description"},r.a.createElement(de.a,{id:"stop-dialog-title"},"Stop image prediction?"),r.a.createElement(pe.a,null,r.a.createElement(ue.a,null,"Stop the prediction for the current image. You will need to re-upload the image to recieve a prediction.")),r.a.createElement(ge.a,null,r.a.createElement(V.a,{onClick:d,className:t.noButton,autoFocus:!0},"Disagree"),r.a.createElement(V.a,{onClick:function(){m(),d()},className:t.yesButton},"Agree"))))},ve=function(e){return Object(m.a)({palette:{type:e,primary:u.a,secondary:g.a,error:{main:f.a.A400}}})},Ee=Object(l.a)((function(e){return{app:{height:"100%",margin:0,padding:0,border:0},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",position:"relative",height:"100%"}}})),ye=function(){var e=Ee(),t=Object(s.a)("@media (prefers-color-scheme: dark)"),a=X("paletteType")?X("paletteType"):t?"dark":"light",i=Object(n.useState)(a),o=Object(c.a)(i,2),l=o[0],m=o[1],u=Object(n.useState)(),g=Object(c.a)(u,2),f=g[0],b=g[1],h=Object(n.useState)(!1),v=Object(c.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(),C=Object(c.a)(x,2),O=C[0],k=C[1],w=Object(n.useState)(),S=Object(c.a)(w,2),I=S[0],N=S[1];Object(n.useEffect)((function(){var e,t,a;e="paletteType",t=l,document.cookie="".concat(e,"=").concat(t,";path=/;max-age=").concat(a||31536e3)}),[l]);var P=function(){y(!1),k(void 0),N(void 0),b(void 0)};return r.a.createElement(d.a,{theme:ve(l)},r.a.createElement(p.a,null),r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.content},r.a.createElement(j,{reset:P,processing:E,setPaletteType:m}),r.a.createElement(ie,{processing:E,image:f,animalPrediction:O,breedPrediction:I,setProcessing:y,setImage:b,setAnimalPrediction:k,setBreedPrediction:N,reset:P}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(108)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.89bf98f1.chunk.js.map