(this["webpackJsonpanimal-classifier-client"]=this["webpackJsonpanimal-classifier-client"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(95),a(12)),l=a(135),s=a(138),m=a(140),p=a(36),d=a(51),u=Object(l.a)((function(e){return{appBar:{backgroundColor:"light"===e.palette.type?e.palette.primary.main:d.a[800]},title:{flexGrow:1,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none","&::selection":{background:"none",color:"none"},"&::-moz-selection":{background:"none",color:"none"}}}})),g=function(e){var t=e.processing,a=e.reset,i=e.setPaletteType,o=u();return r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{position:"fixed",className:o.appBar},r.a.createElement(m.a,null,r.a.createElement(p.a,{className:o.title,variant:"h6"},"Animal Classifier"),e.processing?r.a.createElement(se,{processing:t,reset:a}):null,r.a.createElement(M,{setPaletteType:i}))),r.a.createElement(m.a,null))},f=a(50),b=a(141),h=a(55),E=a(53),j=a(45),v=a.n(j),y=Object(l.a)((function(e){return{base:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:2,borderRadius:2,borderColor:"light"===e.palette.type?"#eee":"#313131",borderStyle:"dashed",backgroundColor:"light"===e.palette.type?"#fafafa":"#bdbdbd",color:"light"===e.palette.type?"#bdbdbd":"#fafafa",outline:"none",transition:"border .24s ease-in-out",width:"100%",flexGrow:1,textAlign:"center"},accept:{borderColor:e.palette.success.main,backgroundColor:"light"===e.palette.type?h.a[50]:h.a[100]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:"light"===e.palette.type?E.a[50]:E.a[100]},text:{fontSize:"2em",textAlign:"center"}}})),O=function(e){var t=y(),a=Object(n.useCallback)(e.handleImageUpload,[]),i=Object(f.a)({accept:"image/*",onDropAccepted:a}),o=i.getRootProps,c=i.getInputProps,l=i.isDragActive,s=i.isDragAccept,m=i.isDragReject,p=Object(n.useMemo)((function(){return s?t.accept:m?t.reject:l?t.active:""}),[s,t.accept,m,t.reject,l,t.active]);return r.a.createElement("div",o({className:v()(t.base,p)}),r.a.createElement("input",c({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement(b.a,{style:{fontSize:80}}),r.a.createElement("span",{className:t.text},"Upload an image of an animal"))},x=a(17),k=a(142),w=a(80),C=function(e){var t,a,i=(a=null===(t=e.image)||void 0===t?void 0:t.imageUrl,Object(l.a)((function(e){return{imageCanvas:Object(x.a)({flex:"0 1 50%",display:"flex",alignItems:"center",justifyContent:"center",outline:0,padding:e.spacing(2),marginRight:e.spacing(1),marginBottom:0,maxHeight:"100%",maxWidth:"50%"},e.breakpoints.down("md"),{marginRight:0,marginBottom:e.spacing(1),maxHeight:"50%",maxWidth:"100%"}),imagePreview:{width:"100%",height:"100%",background:a?"url('".concat(a,"')"):"none",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},accept:{borderColor:e.palette.success.main,backgroundColor:"light"===e.palette.type?h.a[50]:h.a[100]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:"light"===e.palette.type?E.a[50]:E.a[100]}}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],p=s[1],d=e.processing,u=Object(n.useCallback)(e.handleImageUpload,[]),g=Object(f.a)({accept:"image/*",noClick:d,onDropAccepted:d?function(){}:u}),b=g.getRootProps,j=g.getInputProps,y=g.isDragActive,O=g.isDragAccept,C=g.isDragReject,S=Object(n.useMemo)((function(){return d&&y?i.reject:O?i.accept:C?i.reject:y?i.active:""}),[O,i.accept,C,i.reject,y,i.active,d]);return Object(n.useEffect)((function(){p((function(e){return!e}))}),[]),r.a.createElement(k.a,{in:m,timeout:1e3},r.a.createElement(w.a,Object.assign({elevation:3},b({className:v()(i.imageCanvas,S)})),r.a.createElement("input",j({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement("div",{className:i.imagePreview})))},S=a(18),B=a(162),I=a(144),N=a(146),P=a(147),T=a(148),U=a(149),D=a(150),A=a(151),R=a(163),z=a(145),F=["dog","cat"],L=["butterfly","cat","chicken","cow","dog","elephant","horse","sheep","spider","squirrel"],W={dog:"\ud83d\udc15",cat:"\ud83d\udc08",butterfly:"\ud83e\udd8b",chicken:"\ud83d\udc14",cow:"\ud83d\udc04",elephant:"\ud83d\udc18",horse:"\ud83d\udc0e",sheep:"\ud83d\udc11",spider:"\ud83d\udd77\ufe0f",squirrel:"\ud83d\udc3f\ufe0f"},G=Object(l.a)((function(e){return{infoList:{width:320,paddingTop:8},message:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"left"},animalSubheader:{opacity:"1.0"},animal:{display:"flex",alignItems:"center",justifyContent:"space-between",color:"inherit",textDecoration:"none"},animalEmoji:{textAlign:"right"},animalText:{textTransform:"capitalize",flexGrow:1,color:"inherit"}}})),M=function(e){var t=Object(S.a)(),a=G(),i=Object(n.useState)("dark"===t.palette.type),o=Object(c.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(null),d=Object(c.a)(m,2),u=d[0],g=d[1],f=e.setPaletteType,b=function(){return g(null)},h=Boolean(u),E=h?"info-popover":void 0;return r.a.createElement(n.Fragment,null,r.a.createElement(B.a,{title:"Info","aria-label":"info-tip"},r.a.createElement(I.a,{"aria-describedby":E,"aria-label":"info",onClick:function(e){return g(e.currentTarget)}},r.a.createElement(z.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(N.a,{id:E,open:h,anchorEl:u,onClose:b,onDragEnter:b,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(P.a,{className:a.infoList,subheader:r.a.createElement("li",null)},r.a.createElement(T.a,{key:"info",className:a.message},r.a.createElement(p.a,{variant:"body1",gutterBottom:!0},"About"),r.a.createElement(p.a,{variant:"body2",gutterBottom:!0},r.a.createElement("span",null,"This project is made by Tarun Belani, under the guidance of Dr. Arunava Banerjee, for Fall 2020 Senior Project. Source code can be found ",r.a.createElement("a",{href:"https://github.com/tarunb12/animal-classifier",target:"_blank",rel:"noopener noreferrer"},"here"),"."))),r.a.createElement(U.a,null),r.a.createElement(D.a,{className:a.animalSubheader},"Supported Animals"),L.map((function(e){return r.a.createElement(T.a,{key:e,component:"a",target:"_blank",href:"https://en.wikipedia.org/wiki/".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rel:"noopener noreferrer"},r.a.createElement(A.a,{primary:r.a.createElement("div",{className:a.animal},r.a.createElement("span",{className:a.animalText},e),r.a.createElement("span",{className:a.animalEmoji},W[e]))}))})),r.a.createElement(U.a,null),r.a.createElement(T.a,{key:"theme-toggle",className:a.animal},r.a.createElement("span",{className:a.animalText},"Dark Mode"),r.a.createElement(R.a,{checked:l,onChange:function(){s((function(e){var t=!e;return localStorage.setItem("dark",JSON.stringify(t)),f(t?"dark":"light"),!e}))}})))))},J=a(161),q=a(152),H=a(57),_=a.n(H),K=a(75),Y=a.n(K),$=a(76),Q=Object(l.a)((function(e){return{upload:{width:"100%",padding:0,marginTop:e.spacing(1)},locationField:{flexGrow:1,marginRight:"2%",overflow:"hidden"},main:Object(x.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",padding:"24px 24px 0"},e.breakpoints.down("sm"),{padding:"16px 16px 0"})}})),V=function(e){var t=Q(),a=Object(n.useState)(""),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,p=e.image,d=e.prediction,u=e.breedPrediction,g=e.setProcessing,f=e.setImage,b=e.setPrediction,h=e.setBreedPrediction,E=e.reset,j=function(e){E(),function(e,t){var a=new Image;a.onload=function(){return t(!1)},a.onerror=function(){return t(!0)},a.src=e}(e,(function(t){t?(l("URL must represent a valid image file."),f(void 0)):(setTimeout((function(){return b("dog")}),6e3),setTimeout((function(){h("shih-tzu"),g(!1)}),12e3),f({imageUrl:e}),g(!0))}))},v=function(e){if(e){var t=e[0];t&&j(URL.createObjectURL(t))}};return r.a.createElement(n.Fragment,null,r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"upload-photo",name:"upload-photo",multiple:!1,type:"file",onChange:function(e){return v(e.target.files)},disabled:s}),r.a.createElement("div",{className:t.main},p?r.a.createElement(te,{prediction:d,breedPrediction:u,image:p,handleImageUpload:v,processing:s}):r.a.createElement(O,{handleImageUpload:v}),r.a.createElement(m.a,{className:t.upload},r.a.createElement(J.a,{error:!!o,disabled:s,variant:"filled",className:t.locationField,label:o||"URL",onChange:function(e){var t=e.target.value;!function(e){if(!e)return!1;var t=e.lastIndexOf("http");if(-1!==t&&(e=e.substring(t)),!Y()(e))return _()(e);var a=Object($.parse)(e).pathname;if(!a)return!1;var n=a.search(/[:?&]/);return-1!==n&&(a=a.substring(0,n)),!!_()(a)||(/styles/i.test(a),!1)}(t)?(E(),l("URL must represent a valid image file.")):(l(""),j(t))}}),r.a.createElement("label",{htmlFor:"upload-photo"},r.a.createElement(q.a,{variant:"contained",component:"span",disabled:s},"Upload")))))},X=a(153),Z=function(e){var t,a,i=(t=e.isBreed,a=e.isBreedType,Object(l.a)((function(e){return{labelContainer:Object(x.a)({display:"flex",alignItems:"center",justifyContent:"center",marginTop:t?e.spacing(1):void 0,marginBottom:t?void 0:e.spacing(1),marginLeft:e.spacing(1),marginRight:0,flex:"0 0 100%",height:a?"calc(50% - ".concat(e.spacing(1),"px)"):"100%",width:"100%",textTransform:"capitalize"},e.breakpoints.down("md"),{marginTop:e.spacing(1),marginBottom:0,marginLeft:t?e.spacing(1):0,marginRight:t?0:e.spacing(1),flex:a?"0 1 50%":"0 0 100%",height:"calc(100% - ".concat(e.spacing(1),"px)")}),label:Object(x.a)({},e.breakpoints.down("sm"),{fontSize:"2rem"})}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],d=s[1],u=e.prediction;Object(n.useEffect)((function(){d((function(e){return!e}))}),[]);var g=void 0===u;return r.a.createElement(k.a,{in:m,timeout:1e3},r.a.createElement(w.a,{elevation:3,className:i.labelContainer},g?r.a.createElement(X.a,{size:40}):r.a.createElement(p.a,{variant:"h3",className:i.label},"".concat(u," ".concat(W[u]||"")))))},ee=Object(l.a)((function(e){return{container:Object(x.a)({display:"flex",width:"100%",height:"100%",marginBottom:e.spacing(1)},e.breakpoints.down("md"),{flexDirection:"column"}),imageContainer:Object(x.a)({flex:"0 1 50%",height:"100%",width:"50%"},e.breakpoints.down("md"),{flex:"0 0 100%",height:"50%",width:"100%"}),resultContainer:Object(x.a)({flex:"0 1 50%",display:"flex",height:"100%",width:"50%",flexWrap:"wrap",alignItems:"flex-start"},e.breakpoints.down("md"),{height:"calc(50% - ".concat(e.spacing(1),"px)"),width:"100%",flexWrap:"nowrap",alignItems:"normal"})}})),te=function(e){var t=ee(),a=!!e.prediction&&F.includes(e.prediction);return r.a.createElement("div",{className:t.container},r.a.createElement(C,{image:e.image,processing:e.processing,handleImageUpload:e.handleImageUpload}),r.a.createElement("div",{className:t.resultContainer},r.a.createElement(Z,{isBreedType:a,isBreed:!1,prediction:e.prediction}),a&&r.a.createElement(Z,{isBreedType:a,isBreed:!0,prediction:e.breedPrediction})))},ae=a(164),ne=a(155),re=a(156),ie=a(157),oe=a(158),ce=a(154),le=Object(l.a)((function(e){return{yesButton:{color:e.palette.primary.main},noButton:{color:e.palette.error.main}}})),se=function(e){var t=le(),a=Object(n.useState)(!1),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,m=e.reset,p=function(){return l(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(B.a,{title:"Stop","aria-label":"stop-tip"},r.a.createElement(I.a,{"aria-label":"stop",onClick:function(){return l(!0)}},r.a.createElement(ce.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(ae.a,{open:o&&s,onClose:p,"aria-labelledby":"stop-dialog-title","aria-describedby":"stop-dialog-description"},r.a.createElement(ne.a,{id:"stop-dialog-title"},"Stop image prediction?"),r.a.createElement(re.a,null,r.a.createElement(ie.a,null,"Stop the prediction for the current image. You will need to re-upload the image to recieve a prediction.")),r.a.createElement(oe.a,null,r.a.createElement(q.a,{onClick:p,className:t.noButton,autoFocus:!0},"Disagree"),r.a.createElement(q.a,{onClick:function(){m(),p()},className:t.yesButton},"Agree"))))},me=a(77),pe=a(159),de=a(160),ue=a(54),ge=a(52),fe=function(e){return Object(me.a)({palette:{type:e,primary:ue.a,secondary:ge.a,error:{main:E.a.A400}}})},be=Object(l.a)((function(e){return{app:{height:"100%",margin:0,padding:0,border:0},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",position:"relative",height:"100%"}}})),he=function(){var e=be(),t=Boolean(localStorage.getItem("dark"))?"dark":"light",a=Object(n.useState)(t),i=Object(c.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(),m=Object(c.a)(s,2),p=m[0],d=m[1],u=Object(n.useState)(!1),f=Object(c.a)(u,2),b=f[0],h=f[1],E=Object(n.useState)(),j=Object(c.a)(E,2),v=j[0],y=j[1],O=Object(n.useState)(),x=Object(c.a)(O,2),k=x[0],w=x[1],C=function(){h(!1),y(void 0),w(void 0),d(void 0)};return r.a.createElement(pe.a,{theme:fe(o)},r.a.createElement(de.a,null),r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.content},r.a.createElement(g,{reset:C,processing:b,setPaletteType:l}),r.a.createElement(V,{processing:b,image:p,prediction:v,breedPrediction:k,setProcessing:h,setImage:d,setPrediction:y,setBreedPrediction:w,reset:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(108)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.a6cf743f.chunk.js.map