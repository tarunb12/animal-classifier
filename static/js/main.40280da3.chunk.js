(this["webpackJsonpanimal-classifier-client"]=this["webpackJsonpanimal-classifier-client"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(93),a(13)),l=a(132),s=a(135),m=a(137),u=a(33),d=Object(l.a)((function(e){return{title:{flexGrow:1,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none","&::selection":{background:"none",color:"none"},"&::-moz-selection":{background:"none",color:"none"}}}})),p=function(e){var t=d(),a=e.processing,i=e.reset;return r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{position:"fixed"},r.a.createElement(m.a,null,r.a.createElement(u.a,{className:t.title,variant:"h6"},"Animal Classifier"),e.processing?r.a.createElement(oe,{processing:a,reset:i}):null,r.a.createElement(L,null))),r.a.createElement(m.a,null))},g=a(48),f=a(138),b=a(52),h=a(50),E=a(42),v=a.n(E),j=Object(l.a)((function(e){return{base:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",width:"100%",flexGrow:1,textAlign:"center"},accept:{borderColor:e.palette.success.main,backgroundColor:b.a[50]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:h.a[50]},text:{fontSize:"2em",textAlign:"center"}}})),x=function(e){var t=j(),a=Object(n.useCallback)(e.handleImageUpload,[]),i=Object(g.a)({accept:"image/*",onDropAccepted:a}),o=i.getRootProps,c=i.getInputProps,l=i.isDragActive,s=i.isDragAccept,m=i.isDragReject,u=Object(n.useMemo)((function(){return s?t.accept:m?t.reject:l?t.active:""}),[s,t.accept,m,t.reject,l,t.active]);return r.a.createElement("div",o({className:v()(t.base,u)}),r.a.createElement("input",c({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement(f.a,{style:{fontSize:80}}),r.a.createElement("span",{className:t.text},"Upload an image of an animal"))},O=a(17),y=a(139),w=a(77),C=function(e){var t,a,i=(a=null===(t=e.image)||void 0===t?void 0:t.imageUrl,Object(l.a)((function(e){return{imageCanvas:Object(O.a)({flex:"0 1 50%",display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2),marginRight:e.spacing(1),marginBottom:0,maxHeight:"100%",maxWidth:"50%"},e.breakpoints.down("md"),{marginRight:0,marginBottom:e.spacing(1),maxHeight:"50%",maxWidth:"100%"}),imagePreview:{width:"100%",height:"100%",background:a?"url('".concat(a,"')"):"none",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},accept:{borderColor:e.palette.success.main,backgroundColor:b.a[50]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:h.a[50]}}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],u=s[1],d=e.processing,p=Object(n.useCallback)(e.handleImageUpload,[]),f=Object(g.a)({accept:"image/*",noClick:d,onDropAccepted:d?function(){}:p}),E=f.getRootProps,j=f.getInputProps,x=f.isDragActive,C=f.isDragAccept,k=f.isDragReject,S=Object(n.useMemo)((function(){return d&&x?i.reject:C?i.accept:k?i.reject:x?i.active:""}),[C,i.accept,k,i.reject,x,i.active,d]);return Object(n.useEffect)((function(){u((function(e){return!e}))}),[]),r.a.createElement(y.a,{in:m,timeout:1e3},r.a.createElement(w.a,Object.assign({elevation:3},E({className:v()(i.imageCanvas,S)})),r.a.createElement("input",j({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement("div",{className:i.imagePreview})))},k=a(159),S=a(141),I=a(143),B=a(144),U=a(145),N=a(146),P=a(147),A=a(148),D=a(142),T=["dog","cat"],R=["butterfly","cat","chicken","cow","dog","elephant","horse","sheep","spider","squirrel"],z={dog:"\ud83d\udc15",cat:"\ud83d\udc08",butterfly:"\ud83e\udd8b",chicken:"\ud83d\udc14",cow:"\ud83d\udc04",elephant:"\ud83d\udc18",horse:"\ud83d\udc0e",sheep:"\ud83d\udc11",spider:"\ud83d\udd77\ufe0f",squirrel:"\ud83d\udc3f\ufe0f"},F=Object(l.a)((function(e){return{infoList:{width:320,paddingTop:8},message:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"left"},animalSubheader:{backgroundColor:"rgba(255, 255, 255, 1)"},animal:{display:"flex",alignItems:"center",justifyContent:"space-between",color:"inherit",textDecoration:"none"},animalEmoji:{textAlign:"right"},animalText:{textTransform:"capitalize",flexGrow:1,color:"inherit"}}})),L=function(){var e=F(),t=Object(n.useState)(null),a=Object(c.a)(t,2),i=a[0],o=a[1],l=function(){return o(null)},s=Boolean(i),m=s?"info-popover":void 0;return r.a.createElement(n.Fragment,null,r.a.createElement(k.a,{title:"Info","aria-label":"info-tip"},r.a.createElement(S.a,{"aria-describedby":m,"aria-label":"info",onClick:function(e){return o(e.currentTarget)}},r.a.createElement(D.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(I.a,{id:m,open:s,anchorEl:i,onClose:l,onDragEnter:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(B.a,{className:e.infoList,subheader:r.a.createElement("li",null)},r.a.createElement(U.a,{key:"info",className:e.message},r.a.createElement(u.a,{variant:"body1",gutterBottom:!0},"About"),r.a.createElement(u.a,{variant:"body2",gutterBottom:!0},r.a.createElement("span",null,"This project is made by Tarun Belani, under the guidance of Dr. Arunava Banerjee, for Fall 2020 Senior Project. Source code can be found ",r.a.createElement("a",{href:"https://github.com/tarunb12/animal-classifier",target:"_blank",rel:"noopener noreferrer"},"here"),"."))),r.a.createElement(N.a,null),r.a.createElement(P.a,{className:e.animalSubheader},"Supported Animals"),R.map((function(t){return r.a.createElement(U.a,{key:t,component:"a",target:"_blank",href:"https://en.wikipedia.org/wiki/".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),rel:"noopener noreferrer"},r.a.createElement(A.a,{primary:r.a.createElement("div",{className:e.animal},r.a.createElement("span",{className:e.animalText},t),r.a.createElement("span",{className:e.animalEmoji},z[t]))}))})))))},W=a(158),G=a(149),M=a(53),q=a.n(M),H=a(72),J=a.n(H),_=a(73),K=Object(l.a)((function(e){return{upload:{width:"100%",padding:0,marginTop:e.spacing(1)},locationField:{flexGrow:1,marginRight:"2%",overflow:"hidden"},main:Object(O.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",padding:"24px 24px 0"},e.breakpoints.down("sm"),{padding:"16px 16px 0"})}})),Y=function(e){var t=K(),a=Object(n.useState)(""),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,u=e.image,d=e.prediction,p=e.breedPrediction,g=e.setProcessing,f=e.setImage,b=e.setPrediction,h=e.setBreedPrediction,E=e.reset,v=function(e){E(),function(e,t){var a=new Image;a.onload=function(){return t(!1)},a.onerror=function(){return t(!0)},a.src=e}(e,(function(t){t?(l("URL must represent a valid image file."),f(void 0)):(setTimeout((function(){return b("dog")}),3e3),setTimeout((function(){h("shih-tzu"),g(!1)}),6e3),f({imageUrl:e}),g(!0))}))},j=function(e){if(e){var t=e[0];t&&v(URL.createObjectURL(t))}};return r.a.createElement(n.Fragment,null,r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"upload-photo",name:"upload-photo",multiple:!1,type:"file",onChange:function(e){return j(e.target.files)},disabled:s}),r.a.createElement("div",{className:t.main},u?r.a.createElement(X,{prediction:d,breedPrediction:p,image:u,handleImageUpload:j,processing:s}):r.a.createElement(x,{handleImageUpload:j}),r.a.createElement(m.a,{className:t.upload},r.a.createElement(W.a,{error:!!o,disabled:s,variant:"filled",className:t.locationField,label:o||"URL",onChange:function(e){var t=e.target.value;!function(e){if(!e)return!1;var t=e.lastIndexOf("http");if(-1!==t&&(e=e.substring(t)),!J()(e))return q()(e);var a=Object(_.parse)(e).pathname;if(!a)return!1;var n=a.search(/[:?&]/);return-1!==n&&(a=a.substring(0,n)),!!q()(a)||(/styles/i.test(a),!1)}(t)?(E(),l("URL must represent a valid image file.")):(l(""),v(t))}}),r.a.createElement("label",{htmlFor:"upload-photo"},r.a.createElement(G.a,{variant:"contained",component:"span",disabled:s},"Upload")))))},$=a(150),Q=function(e){var t,a,i=(t=e.isBreed,a=e.isBreedType,Object(l.a)((function(e){return{labelContainer:Object(O.a)({display:"flex",alignItems:"center",justifyContent:"center",marginTop:t?e.spacing(1):void 0,marginBottom:t?void 0:e.spacing(1),marginLeft:e.spacing(1),marginRight:0,flex:"0 0 100%",height:a?"calc(50% - ".concat(e.spacing(1),"px)"):"100%",width:"100%",textTransform:"capitalize"},e.breakpoints.down("md"),{marginTop:e.spacing(1),marginBottom:0,marginLeft:t?e.spacing(1):0,marginRight:t?0:e.spacing(1),flex:a?"0 1 50%":"0 0 100%",height:"calc(100% - ".concat(e.spacing(1),"px)")})}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],d=s[1],p=e.prediction,g=void 0===p;return Object(n.useEffect)((function(){d((function(e){return!e}))}),[]),Object(n.useEffect)((function(){clearInterval()}),[e.prediction]),r.a.createElement(y.a,{in:m,timeout:1e3},r.a.createElement(w.a,{elevation:3,className:i.labelContainer},g?r.a.createElement($.a,{size:40}):r.a.createElement(u.a,{variant:"h3"},"".concat(p," ".concat(z[p]||"")))))},V=Object(l.a)((function(e){return{container:Object(O.a)({display:"flex",width:"100%",height:"100%"},e.breakpoints.down("md"),{flexDirection:"column"}),imageContainer:Object(O.a)({flex:"0 1 50%",height:"100%",width:"50%"},e.breakpoints.down("md"),{flex:"0 0 100%",height:"50%",width:"100%"}),resultContainer:Object(O.a)({flex:"0 1 50%",display:"flex",height:"100%",width:"50%",flexWrap:"wrap",alignItems:"flex-start"},e.breakpoints.down("md"),{height:"calc(50% - ".concat(e.spacing(1),"px)"),width:"100%",flexWrap:"nowrap",alignItems:"normal"})}})),X=function(e){var t=V(),a=!!e.prediction&&T.includes(e.prediction);return r.a.createElement("div",{className:t.container},r.a.createElement(C,{image:e.image,processing:e.processing,handleImageUpload:e.handleImageUpload}),r.a.createElement("div",{className:t.resultContainer},r.a.createElement(Q,{isBreedType:a,isBreed:!1,prediction:e.prediction}),a&&r.a.createElement(Q,{isBreedType:a,isBreed:!0,prediction:e.breedPrediction})))},Z=a(160),ee=a(152),te=a(153),ae=a(154),ne=a(155),re=a(151),ie=Object(l.a)((function(e){return{yesButton:{color:e.palette.primary.main},noButton:{color:e.palette.error.main}}})),oe=function(e){var t=ie(),a=Object(n.useState)(!1),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,m=e.reset,u=function(){return l(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(k.a,{title:"Stop","aria-label":"stop-tip"},r.a.createElement(S.a,{"aria-label":"stop",onClick:function(){return l(!0)}},r.a.createElement(re.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(Z.a,{open:o&&s,onClose:u,"aria-labelledby":"stop-dialog-title","aria-describedby":"stop-dialog-description"},r.a.createElement(ee.a,{id:"stop-dialog-title"},"Stop image prediction?"),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"Stop the prediction for the current image. You will need to re-upload the image to recieve a prediction.")),r.a.createElement(ne.a,null,r.a.createElement(G.a,{onClick:u,className:t.noButton,autoFocus:!0},"Disagree"),r.a.createElement(G.a,{onClick:function(){m(),u()},className:t.yesButton},"Agree"))))},ce=Object(l.a)((function(e){return{app:{height:"100%",margin:0,padding:0,border:0},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",position:"relative",height:"100%"}}})),le=function(){var e=ce(),t=Object(n.useState)(),a=Object(c.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(c.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(),g=Object(c.a)(d,2),f=g[0],b=g[1],h=Object(n.useState)(),E=Object(c.a)(h,2),v=E[0],j=E[1],x=function(){u(!1),b(void 0),j(void 0),o(void 0)};return r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.content},r.a.createElement(p,{reset:x,processing:m}),r.a.createElement(Y,{processing:m,image:i,prediction:f,breedPrediction:v,setProcessing:u,setImage:o,setPrediction:b,setBreedPrediction:j,reset:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(157),me=a(156),ue=a(51),de=a(49),pe=a(74),ge=Object(pe.a)({palette:{primary:ue.a,secondary:de.a,error:{main:h.a.A400},background:{default:"#fff"}}});t.default=ge;o.a.render(r.a.createElement(me.a,{theme:ge},r.a.createElement(se.a,null),r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(106)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.40280da3.chunk.js.map