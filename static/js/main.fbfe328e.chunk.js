(this["webpackJsonpanimal-classifier-client"]=this["webpackJsonpanimal-classifier-client"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(95),a(12)),l=a(136),s=a(159),m=a(78),p=a(160),u=a(161),d=a(54),g=a(52),f=a(53),b=a(139),h=a(140),E=a(37),j=a(51),v=Object(l.a)((function(e){return{appBar:{backgroundColor:"light"===e.palette.type?e.palette.primary.main:j.a[800]},title:{flexGrow:1,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none","&::selection":{background:"none",color:"none"},"&::-moz-selection":{background:"none",color:"none"}}}})),y=function(e){var t=e.processing,a=e.reset,i=e.setPaletteType,o=v();return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{position:"fixed",className:o.appBar},r.a.createElement(h.a,null,r.a.createElement(E.a,{className:o.title,variant:"h6"},"Animal Classifier"),e.processing?r.a.createElement(fe,{processing:t,reset:a}):null,r.a.createElement(K,{setPaletteType:i}))),r.a.createElement(h.a,null))},O=a(50),x=a(141),k=a(55),w=a(45),C=a.n(w),S=Object(l.a)((function(e){return{base:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:2,borderRadius:2,borderColor:"light"===e.palette.type?"#eee":"#313131",borderStyle:"dashed",backgroundColor:"light"===e.palette.type?"#fafafa":"#bdbdbd",color:"light"===e.palette.type?"#bdbdbd":"#fafafa",outline:"none",transition:"border .24s ease-in-out",width:"100%",flexGrow:1,textAlign:"center"},accept:{borderColor:e.palette.success.main,backgroundColor:"light"===e.palette.type?k.a[50]:k.a[100]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:"light"===e.palette.type?f.a[50]:f.a[100]},text:{fontSize:"2em",textAlign:"center"}}})),B=function(e){var t=S(),a=Object(n.useCallback)(e.handleImageUpload,[]),i=Object(O.a)({accept:"image/*",onDropAccepted:a}),o=i.getRootProps,c=i.getInputProps,l=i.isDragActive,s=i.isDragAccept,m=i.isDragReject,p=Object(n.useMemo)((function(){return s?t.accept:m?t.reject:l?t.active:""}),[s,t.accept,m,t.reject,l,t.active]);return r.a.createElement("div",o({className:C()(t.base,p)}),r.a.createElement("input",c({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement(x.a,{style:{fontSize:80}}),r.a.createElement("span",{className:t.text},"Upload an image of an animal"))},I=a(17),N=a(142),T=a(80),P=function(e){var t,a,i=(a=null===(t=e.image)||void 0===t?void 0:t.imageUrl,Object(l.a)((function(e){return{imageCanvas:Object(I.a)({flex:"0 1 50%",display:"flex",alignItems:"center",justifyContent:"center",outline:0,padding:e.spacing(2),marginRight:e.spacing(1),marginBottom:0,maxHeight:"100%",maxWidth:"50%"},e.breakpoints.down("md"),{marginRight:0,marginBottom:e.spacing(1),maxHeight:"50%",maxWidth:"100%"}),imagePreview:{width:"100%",height:"100%",background:a?"url('".concat(a,"')"):"none",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},accept:{borderColor:e.palette.success.main,backgroundColor:"light"===e.palette.type?k.a[50]:k.a[100]},active:{borderColor:e.palette.primary.main},reject:{borderColor:e.palette.error.main,backgroundColor:"light"===e.palette.type?f.a[50]:f.a[100]}}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],p=s[1],u=e.processing,d=Object(n.useCallback)(e.handleImageUpload,[]),g=Object(O.a)({accept:"image/*",noClick:u,onDropAccepted:u?function(){}:d}),b=g.getRootProps,h=g.getInputProps,E=g.isDragActive,j=g.isDragAccept,v=g.isDragReject,y=Object(n.useMemo)((function(){return u&&E?i.reject:j?i.accept:v?i.reject:E?i.active:""}),[j,i.accept,v,i.reject,E,i.active,u]);return Object(n.useEffect)((function(){p((function(e){return!e}))}),[]),r.a.createElement(N.a,{in:m,timeout:1e3},r.a.createElement(T.a,Object.assign({elevation:3},b({className:C()(i.imageCanvas,y)})),r.a.createElement("input",h({accept:"image/*",multiple:!1,onChange:function(t){return e.handleImageUpload(t.target.files)}})),r.a.createElement("div",{className:i.imagePreview})))},U=a(18),D=a(163),A=a(144),R=a(146),z=a(147),F=a(148),L=a(149),W=a(150),G=a(151),M=a(164),$=a(145),J=["dog","cat"],q=["butterfly","cat","chicken","cow","dog","elephant","horse","sheep","spider","squirrel"],H={dog:"\ud83d\udc15",cat:"\ud83d\udc08",butterfly:"\ud83e\udd8b",chicken:"\ud83d\udc14",cow:"\ud83d\udc04",elephant:"\ud83d\udc18",horse:"\ud83d\udc0e",sheep:"\ud83d\udc11",spider:"\ud83d\udd77\ufe0f",squirrel:"\ud83d\udc3f\ufe0f"},_=Object(l.a)((function(e){return{infoList:{width:320,paddingTop:8},message:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"left"},animalSubheader:{backgroundColor:"light"===e.palette.type?"rgba(255,255,255,1)":"rgba(66,66,66,1)"},animal:{display:"flex",alignItems:"center",justifyContent:"space-between",color:"inherit",textDecoration:"none"},animalEmoji:{textAlign:"right"},animalText:{textTransform:"capitalize",flexGrow:1,color:"inherit"}}})),K=function(e){var t=Object(U.a)(),a=_(),i=Object(n.useState)("dark"===t.palette.type),o=Object(c.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(null),p=Object(c.a)(m,2),u=p[0],d=p[1],g=e.setPaletteType,f=function(){return d(null)},b=Boolean(u),h=b?"info-popover":void 0;return r.a.createElement(n.Fragment,null,r.a.createElement(D.a,{title:"Info","aria-label":"info-tip"},r.a.createElement(A.a,{"aria-describedby":h,"aria-label":"info",onClick:function(e){return d(e.currentTarget)}},r.a.createElement($.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(R.a,{id:h,open:b,anchorEl:u,onClose:f,onDragEnter:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(z.a,{className:a.infoList,subheader:r.a.createElement("li",null)},r.a.createElement(F.a,{key:"info",className:a.message},r.a.createElement(E.a,{variant:"body1",gutterBottom:!0},"About"),r.a.createElement(E.a,{variant:"body2",gutterBottom:!0},r.a.createElement("span",null,"This project is made by Tarun Belani, under the guidance of Dr. Arunava Banerjee, for Fall 2020 Senior Project. Source code can be found ",r.a.createElement("a",{href:"https://github.com/tarunb12/animal-classifier",target:"_blank",rel:"noopener noreferrer"},"here"),"."))),r.a.createElement(L.a,null),r.a.createElement(W.a,{className:a.animalSubheader},"Supported Animals"),q.map((function(e){return r.a.createElement(F.a,{key:e,component:"a",target:"_blank",href:"https://en.wikipedia.org/wiki/".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rel:"noopener noreferrer"},r.a.createElement(G.a,{primary:r.a.createElement("div",{className:a.animal},r.a.createElement("span",{className:a.animalText},e),r.a.createElement("span",{className:a.animalEmoji},H[e]))}))})),r.a.createElement(L.a,null),r.a.createElement(F.a,{key:"theme-toggle",className:a.animal},r.a.createElement("span",{className:a.animalText},"Dark Mode"),r.a.createElement(M.a,{checked:l,onChange:function(){s((function(e){var t=!e;return localStorage.setItem("dark",JSON.stringify(t)),g(t?"dark":"light"),!e}))}})))))},Y=a(162),Q=a(152),V=a(57),X=a.n(V),Z=a(76),ee=a.n(Z),te=a(77),ae=Object(l.a)((function(e){return{upload:{width:"100%",padding:0,marginTop:e.spacing(1)},locationField:{flexGrow:1,marginRight:"2%",overflow:"hidden"},main:Object(I.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",padding:"24px 24px 0"},e.breakpoints.down("sm"),{padding:"16px 16px 0"})}})),ne=function(e){var t=ae(),a=Object(n.useState)(""),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,m=e.image,p=e.prediction,u=e.breedPrediction,d=e.setProcessing,g=e.setImage,f=e.setPrediction,b=e.setBreedPrediction,E=e.reset,j=function(e){E(),function(e,t){var a=new Image;a.onload=function(){return t(!1)},a.onerror=function(){return t(!0)},a.src=e}(e,(function(t){t?(l("URL must represent a valid image file."),g(void 0)):(setTimeout((function(){return f("dog")}),6e3),setTimeout((function(){b("shih-tzu"),d(!1)}),12e3),g({imageUrl:e}),d(!0))}))},v=function(e){if(e){var t=e[0];t&&j(URL.createObjectURL(t))}};return r.a.createElement(n.Fragment,null,r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"upload-photo",name:"upload-photo",multiple:!1,type:"file",onChange:function(e){return v(e.target.files)},disabled:s}),r.a.createElement("div",{className:t.main},m?r.a.createElement(ce,{prediction:p,breedPrediction:u,image:m,handleImageUpload:v,processing:s}):r.a.createElement(B,{handleImageUpload:v}),r.a.createElement(h.a,{className:t.upload},r.a.createElement(Y.a,{error:!!o,disabled:s,variant:"filled",className:t.locationField,label:o||"URL",onChange:function(e){var t=e.target.value;!function(e){if(!e)return!1;var t=e.lastIndexOf("http");if(-1!==t&&(e=e.substring(t)),!ee()(e))return X()(e);var a=Object(te.parse)(e).pathname;if(!a)return!1;var n=a.search(/[:?&]/);return-1!==n&&(a=a.substring(0,n)),!!X()(a)||(/styles/i.test(a),!1)}(t)?(E(),l("URL must represent a valid image file.")):(l(""),j(t))}}),r.a.createElement("label",{htmlFor:"upload-photo"},r.a.createElement(Q.a,{variant:"contained",component:"span",disabled:s},"Upload")))))},re=a(153),ie=function(e){var t,a,i=(t=e.isBreed,a=e.isBreedType,Object(l.a)((function(e){return{labelContainer:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"center",marginTop:t?e.spacing(1):void 0,marginBottom:t?void 0:e.spacing(1),marginLeft:e.spacing(1),marginRight:0,flex:"0 0 100%",height:a?"calc(50% - ".concat(e.spacing(1),"px)"):"100%",width:"100%",textTransform:"capitalize"},e.breakpoints.down("md"),{marginTop:e.spacing(1),marginBottom:0,marginLeft:t?e.spacing(1):0,marginRight:t?0:e.spacing(1),flex:a?"0 1 50%":"0 0 100%",height:"calc(100% - ".concat(e.spacing(1),"px)")}),label:Object(I.a)({},e.breakpoints.down("sm"),{fontSize:"2rem"})}})))(),o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],p=s[1],u=e.prediction;Object(n.useEffect)((function(){p((function(e){return!e}))}),[]);var d=void 0===u;return r.a.createElement(N.a,{in:m,timeout:1e3},r.a.createElement(T.a,{elevation:3,className:i.labelContainer},d?r.a.createElement(re.a,{size:40}):r.a.createElement(E.a,{variant:"h3",className:i.label},"".concat(u," ".concat(H[u]||"")))))},oe=Object(l.a)((function(e){return{container:Object(I.a)({display:"flex",width:"100%",height:"100%",marginBottom:e.spacing(1)},e.breakpoints.down("md"),{flexDirection:"column"}),imageContainer:Object(I.a)({flex:"0 1 50%",height:"100%",width:"50%"},e.breakpoints.down("md"),{flex:"0 0 100%",height:"50%",width:"100%"}),resultContainer:Object(I.a)({flex:"0 1 50%",display:"flex",height:"100%",width:"50%",flexWrap:"wrap",alignItems:"flex-start"},e.breakpoints.down("md"),{height:"calc(50% - ".concat(e.spacing(1),"px)"),width:"100%",flexWrap:"nowrap",alignItems:"normal"})}})),ce=function(e){var t=oe(),a=!!e.prediction&&J.includes(e.prediction);return r.a.createElement("div",{className:t.container},r.a.createElement(P,{image:e.image,processing:e.processing,handleImageUpload:e.handleImageUpload}),r.a.createElement("div",{className:t.resultContainer},r.a.createElement(ie,{isBreedType:a,isBreed:!1,prediction:e.prediction}),a&&r.a.createElement(ie,{isBreedType:a,isBreed:!0,prediction:e.breedPrediction})))},le=a(165),se=a(155),me=a(156),pe=a(157),ue=a(158),de=a(154),ge=Object(l.a)((function(e){return{yesButton:{color:e.palette.primary.main},noButton:{color:e.palette.error.main}}})),fe=function(e){var t=ge(),a=Object(n.useState)(!1),i=Object(c.a)(a,2),o=i[0],l=i[1],s=e.processing,m=e.reset,p=function(){return l(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(D.a,{title:"Stop","aria-label":"stop-tip"},r.a.createElement(A.a,{"aria-label":"stop",onClick:function(){return l(!0)}},r.a.createElement(de.a,{style:{color:"#fff",fontSize:30}}))),r.a.createElement(le.a,{open:o&&s,onClose:p,"aria-labelledby":"stop-dialog-title","aria-describedby":"stop-dialog-description"},r.a.createElement(se.a,{id:"stop-dialog-title"},"Stop image prediction?"),r.a.createElement(me.a,null,r.a.createElement(pe.a,null,"Stop the prediction for the current image. You will need to re-upload the image to recieve a prediction.")),r.a.createElement(ue.a,null,r.a.createElement(Q.a,{onClick:p,className:t.noButton,autoFocus:!0},"Disagree"),r.a.createElement(Q.a,{onClick:function(){m(),p()},className:t.yesButton},"Agree"))))},be=function(e){return Object(m.a)({palette:{type:e,primary:d.a,secondary:g.a,error:{main:f.a.A400}}})},he=Object(l.a)((function(e){return{app:{height:"100%",margin:0,padding:0,border:0},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",position:"relative",height:"100%"}}})),Ee=function(){var e=he(),t=Object(s.a)("@media (prefers-color-scheme: dark)"),a="dark"===function(e){var t=new RegExp("(?:(?:^|.*;*)".concat(e,"*=*([^;]*).*$)|^.*$"));return document.cookie.replace(t,"$1")}("paletteType")||t?"dark":"light",i=Object(n.useState)(a),o=Object(c.a)(i,2),l=o[0],m=o[1],d=Object(n.useState)(),g=Object(c.a)(d,2),f=g[0],b=g[1],h=Object(n.useState)(!1),E=Object(c.a)(h,2),j=E[0],v=E[1],O=Object(n.useState)(),x=Object(c.a)(O,2),k=x[0],w=x[1],C=Object(n.useState)(),S=Object(c.a)(C,2),B=S[0],I=S[1];Object(n.useEffect)((function(){var e,t,a;e="paletteType",t=l,document.cookie="".concat(e,"=").concat(t,";path=/;max-age=").concat(a||31536e3)}),[l]);var N=function(){v(!1),w(void 0),I(void 0),b(void 0)};return r.a.createElement(p.a,{theme:be(l)},r.a.createElement(u.a,null),r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.content},r.a.createElement(y,{reset:N,processing:j,setPaletteType:m}),r.a.createElement(ne,{processing:j,image:f,prediction:k,breedPrediction:B,setProcessing:v,setImage:b,setPrediction:w,setBreedPrediction:I,reset:N}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(108)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.fbfe328e.chunk.js.map